<!-- ------------------------------------------------------------------- -->
<!--                                                                     -->
<!--  double.xml       groupoids documentation            Chris Wensley  -->
<!--                                                                     -->
<!--  Copyright (C) 2000-2022, Emma Moore and Chris Wensley,             --> 
<!--  School of Computer Science, Bangor University, U.K.                --> 
<!--                                                                     -->
<!-- ------------------------------------------------------------------- -->

<?xml version="1.0" encoding="UTF-8"?>

<Chapter Label="chap-double">
<Heading>Double Groupoids</Heading>

A <E>double groupoid</E> is a <E>double category</E> 
in which all the category structures are groupoids.
In a double groupoid, as well as objects and arrows we need a set of <E>squares</E>.  
A square is bounded by four arrows, two horizantal and two vertical, 
and there is a <E>horizantal</E> groupoid structure  
and a <E>vertical</E> groupoid structure on these squares. 
<P/> 
The double groupoids considered here are special 
in that all four arrows come from the same groupoid.
These are sometimes called <E>edge-symmetric</E> double groupoids.


<Section Label="sec-square">
<Heading>Groupoid constructions on squares</Heading>

Let <M>\Omega</M> be a set of objects, 
and let <M>A,B</M> be two groupoids both having object set <M>\Omega</M>. 
Let <M>S</M> be the set of squares with objects from <M>\Omega</M> 
at each corner; two vertical arrows from Arr<M>(A)</M>, 
and two horizantal arrows from Arr<M>(B)</M>. 
The following picture illustrates the situation: 
<Display> 
<!--  \label{square1} \def\labelstyle{\textstyle} -->
<![CDATA[
\vcenter{\xymatrix @=4pc{  
   u_1 \ar[r]^{b_1}  \ar[d]_{a_1} 
     & u_2 \ar[d]^{a_2} \\ 
   u_3 \ar[r]_{b_2} 
     & u_4 
}} 
]]>
</Display> 

The <E>vertical groupoid</E> on <M>S</M> has the arrows of <M>B</M> as objects 
and pairs of arrows of <M>A</M> as arrows.  
Composition is given by 
<Display>
((a_1,a_2) : b_1 \to b_2) * ((a_3,a_4) : b_2 \to b_3) 
~=~ ((a_1a_3,a_2a_4) : b_1 \to b_3) 
</Display>
and is illustrated by 
<Display> 
<![CDATA[
\vcenter{\xymatrix @=2pc{  
   u_1 \ar[rr]^{b_1}  \ar[dd]_{a_1} 
     && u_2 \ar[dd]^{a_2} 
         & &  &&  \\ 
     &&  & &  u_1 \ar[rr]^{b_1} \ar[dd]_{a_1a_3} 
              && u_2 \ar[dd]^{a_2a_4} \\ 
   u_3 \ar[rr]_{b_2}  \ar[dd]_{a_3} 
     && u_4 \ar[dd]^{a_4} 
         &=&  &&  \\ 
     &&  & &  u_5 \ar[rr]_{b_3} 
              &&  u_6 \\ 
   u_5 \ar[rr]_{b_3} 
     && u_6 
}} 
]]>
</Display> 

Similarly, the <E>horizantal groupoid</E> on <M>S</M> 
has the arrows of <M>A</M> as objects 
and pairs of arrows of <M>B</M> as arrows.  
Composition is given by 
<Display>
((b_1,b_2) : a_1 \to a_2) * ((b_4,b_5) : a_2 \to a_5) 
~=~ ((b_1b_4,b_2b_5) : a_1 \to a_5) 
</Display>
and is illustrated by 
<Display> 
<![CDATA[
\vcenter{\xymatrix @=4pc{  
   u_1 \ar[r]^{b_1}  \ar[d]_{a_1} 
     & u_2 \ar[d]^{a_2} \ar[r]^{b_4} 
       & u_7 \ar[d]^{a_5} \ar@{}[dr] |= 
         & u_1 \ar[r]^{b_1b_4} \ar[d]_{a_1} 
           & u_7 \ar[d]^{a_5} \\ 
   u_3 \ar[r]_{b_2} 
     & u_4 \ar[r]_{b_5} 
       & u_8 
         & u_3 \ar[r]_{b_2b_5} 
           & u_8 
}} 
]]>
</Display> 

These two compositions commute, 
so <M>S</M> has two commuting groupoid structures, 
and we may construct diagrams such as: 
<Display> 
<![CDATA[
\vcenter{\xymatrix @=2pc{  
   u_1 \ar[rr]^{b_1} \ar[dd]_{a_1} 
     && u_2 \ar[dd]_{a_2} \ar[rr]^{b_4} 
         && u_7 \ar[dd]^{a_5} 
             & &  &&  \\ 
     &&  &&  & &  u_1 \ar[rr]^{b_1b_4} \ar[dd]_{a_1a_3} 
                  && u_7 \ar[dd]^{a_5a_6} \\ 
   u_3 \ar[rr]_{b_2}  \ar[dd]_{a_3} 
     && u_4 \ar[dd]_{a_4} \ar[rr]_{b_5} 
         &&  u_8 \ar[dd]^{a_6} 
             &=&  &&  \\ 
     &&  &&  & &  u_5 \ar[rr]_{b_3b_6} 
                  && u_9 \\ 
   u_5 \ar[rr]_{b_3} 
     && u_6 \ar[rr]_{b_6} 
         &&  u_9 
}} 
]]>
</Display> 




</Section> 

<Section Label="sec-double">
<Heading>Double groupoids</Heading>


In a double groupoid <M>D</M> denote the sets of objects, arrows and squares 
by <M>D_0, D_1</M> and <M>D_2</M> respectively. 
Then we think of an element <M>m \in D_2</M> as a square: 
<Display> 
<!--  \label{4square} \def\labelstyle{\textstyle} -->
<![CDATA[
\vcenter{\xymatrix @=4pc{  
   u \ar[r]^{a}  \ar[d]_{b} \ar@{}[dr] |m
     & v \ar[d]^{c} \\ 
   w \ar[r]_{d} 
     & x 
}} 
]]>
</Display> 

<!--  <Display>   --> 
<!--  \label{4square} \def\labelstyle{\textstyle}  -->
<!--  <![CDATA[                                     --> 
<!--  \vcenter{\xymatrix @M=0pt @=5pc{               --> 
<!--     \ar@{-}[r]^{a}  \ar@{-}[d]_{b} \ar@{}[dr] |m --> 
<!--       & \ar@{-}[d]^{c} \\  --> 
<!--     \ar@{-}[r]_{d}        --> 
<!--       &                  --> 
<!--  }}                     --> 
<!--  ]]>                   --> 
<!--  </Display>           --> 




Structures with many objects, and their elements, are defined in a manner similar to the single object case. For elements we have: 
<List>
<Item>
<C>DeclareCategory( "IsDoubleDomainWithObjects", IsDomainWithObjects ); </C>
</Item>
<Item>
<C>DeclareCategory( "IsMultiplicativeSquareWithObjects", 
    IsMultiplicativeElement ); </C>
</Item>
<Item>
<C>DeclareCategory( "IsMultiplicativeSquareWithObjectsAndOnes", 
    IsMultiplicativeSquareWithObjects ); </C> 
</Item> 
<Item>
<C>DeclareCategory( "IsMultiplicativeSquareWithObjectsAndInverses", 
    IsMultiplicativeSquareWithObjectsAndOnes ); </C>
</Item>
<Item>
<C>DeclareCategory( "IsDoubleGroupoidElement", 
    IsMultiplicativeSquareWithObjectsAndInverses</C>
</Item>
<Item> 
<C>DeclareCategory( "IsDoubleGroupoid", 
    IsDoubleMagmaWithObjects and IsDoubleGroupoidElementCollection ); </C>
</Item>
</List>
as well as various category collections.
<P/> 
For the various structures we have: 
<List>
<Item>
?
</Item>
</List>

Among the groupoids constructed earlier are the single piece 
<C>Gd8</C> and the five component union <C>U5</C>: 
<P/>
<Example>
<![CDATA[
gap> Display(Gd8);
single piece groupoid: Gd8
  objects: [ -9, -8, -7 ]
    group: d8 = <[ (1,2,3,4), (1,3) ]>
gap> Display(U5);
groupoid with 5 pieces:
< objects: [ -22 ]
    group: f2 = <[ f1, f2 ]> >
< objects: [ -18, -17 ]
    group: q8 = <[ x, y, y2 ]> >
< objects: [ -15 .. -11 ]
    group: s4 = <[ (1,2,3,4), (3,4) ]> >
< objects: [ -9, -8, -7 ]
    group: d8 = <[ (1,2,3,4), (1,3) ]> >
< objects: [ -6 ]
    group: c6 = <[ (5,6,7)(8,9) ]> >
]]>
</Example>
 

</Section>


</Chapter>
